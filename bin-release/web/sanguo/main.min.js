var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function s(s){t.call(i,s,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?s(n):RES.getResAsync(e,s,this)}else RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Data=function(){function e(){}return e.getScore=function(t,i,s){e.game.updateMaxBet(s,t,i)},e.payBack=function(t,i){e.game.updatePayBack(t,i)},e.close=function(){console.log(">>>>>>>>>>>>>>>>>>closeWeb<<<<<<<<<<<<<<<<"),closeWeb()},e.pay=function(e){console.log(">>>>>>>>>>>>>>>>>>recharge<<<<<<<<<<<<<<<<"),recharge(e)},e.noMoney=function(e){console.log(">>>>>>>>>>>>>>>>>>notEnough<<<<<<<<<<<<<<<<"),notEnough(e)},e.winOrLose=function(){console.log(">>>>>>>>>>>>>>>>>>bet<<<<<<<<<<<<<<<<"),bet()},e.apiDomain="",e.uid="",e.token="",e.app="",e.coin="",e.silver="",e.game=null,e}();__reflect(Data.prototype,"Data");var Desc=function(e){function t(){var t=e.call(this)||this;return t.closeBtn=null,t.addEventListener(eui.UIEvent.COMPLETE,t.uiCompHandler,t),t.skinName="resource/desc.exml",t}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.closeBtn&&i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClick,this)},t.prototype.onButtonClick=function(e){var t=e.target;switch(t){case this.closeBtn:this.removeChildren()}},t.prototype.uiCompHandler=function(){},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(Desc.prototype,"Desc",["eui.UIComponent","egret.DisplayObject"]);var Game=function(e){function t(){var t=e.call(this)||this;return t.coin_check1=null,t.coin_check2=null,t.choice1=null,t.choice2=null,t.choice3=null,t.choice4=null,t.choice_coin1=null,t.choice_coin2=null,t.choice_coin3=null,t.choice_coin4=null,t.wei_coin1=null,t.wei_coin2=null,t.shu_coin1=null,t.shu_coin2=null,t.wu_coin1=null,t.wu_coin2=null,t.choiceArray=[],t.wei_show1=null,t.shu_show1=null,t.wu_show1=null,t.wei_cards=[],t.wei_show2=null,t.shu_show2=null,t.wu_show2=null,t.shu_cards=[],t.wei_show3=null,t.shu_show3=null,t.wu_show3=null,t.wu_cards=[],t.wei_mark=null,t.shu_mark=null,t.wu_mark=null,t.moneyType="coin",t.qianshu=null,t.coin_mark=null,t.chongzhi_font=null,t.checkBet=0,t.chongzhi=null,t.chip=null,t.zhunbei=null,t.touzhu=null,t.timeout=null,t.timeoutBg=null,t.weiScoreBg=null,t.shuScoreBg=null,t.wuScoreBg=null,t.wei_bg=null,t.shu_bg=null,t.wu_bg=null,t.wei_one=null,t.shu_one=null,t.wu_one=null,t.betUser=[],t.wei_all=null,t.shu_all=null,t.wu_all=null,t.betAll=[],t.mingpai=null,t.jieguo=null,t.wei_mask=null,t.shu_mask=null,t.wu_mask=null,t.wei_win=null,t.shu_win=null,t.wu_win=null,t.results=[],t.winData=null,t.notice=null,t.noticeLabel=null,t.noticeStr="",t.result=null,t.history=null,t.desc=null,t.lishi=null,t.guanbi=null,t.bangzhu=null,t.baseInfo={apiDomain:Data.apiDomain,uid:Data.uid,token:Data.token,app:Data.app,coin:Number(Data.coin),silver:Number(Data.silver)},t._state=0,t.showCardData=null,t.addEventListener(eui.UIEvent.COMPLETE,t.uiCompHandler,t),t.skinName="resource/game.exml",t}return __extends(t,e),t.prototype.uiCompHandler=function(){var e=new egret.Timer(1e3,0);e.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),e.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),e.start(),this.zhunbei.visible=!0,this.sendHttpServer("/q102/sgstart?uid="+this.baseInfo.uid,function(e){var t=e.currentTarget;console.log("get data : ",t.response);var i=JSON.parse(t.response);200==i.code&&(i.data.remain&&this.updateScore(i.data.remain),i.data.chip&&(this.chip=i.data.chip),i.data.cards.win&&(this.winData=i.data.cards.win),i.data.cards.cards&&this.showCard(i.data.cards.cards),this.checkBoxByTarget(this.coin_check2),this.checkBoxByTarget(this.choice1))})},t.prototype.timerFunc=function(){var e=(new Date).getSeconds();console.log(" 秒 。。。"+e),e>=0&&3>e&&(console.log(" ================ 准备期 "),this.setGameState(1,e)),e>=3&&43>e&&(console.log(" ================ 投注期 "),this.setGameState(2,e)),e>=43&&46>e&&(console.log(" ================ 开奖准备期 "),this.setGameState(3,e)),e>=46&&52>e&&(console.log(" ================ 明牌期 "),this.setGameState(4,e)),e>=52&&59>e&&(console.log(" ================ 开奖结果 "),this.setGameState(5,e))},t.prototype.timerComFunc=function(){console.log("计时结束")},t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),(i==this.coin_check1||i==this.coin_check2)&&i.addEventListener(eui.UIEvent.CHANGE,this.onCheckBoxClick,this),(i==this.choice1||i==this.choice2||i==this.choice3||i==this.choice4)&&(i.addEventListener(eui.UIEvent.CHANGE,this.onCheckBoxClick,this),this.choiceArray.push(i)),i==this.qianshu&&(i.touchEnabled=!1),(i==this.weiScoreBg||i==this.shuScoreBg||i==this.wuScoreBg||i==this.lishi||i==this.guanbi||i==this.bangzhu||i==this.chongzhi)&&i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClick,this),(i==this.wei_show1||i==this.wei_show2||i==this.wei_show3)&&this.wei_cards.push(i),(i==this.shu_show1||i==this.shu_show2||i==this.shu_show3)&&this.shu_cards.push(i),(i==this.wu_show1||i==this.wu_show2||i==this.wu_show3)&&this.wu_cards.push(i),(i==this.wei_mask||i==this.shu_mask||i==this.wu_mask||i==this.wei_win||i==this.shu_win||i==this.wu_win||i==this.wei_bg||i==this.shu_bg||i==this.wu_bg)&&this.results.push(i),(i==this.wei_one||i==this.shu_one||i==this.wu_one)&&this.betUser.push(i),(i==this.wei_all||i==this.shu_all||i==this.wu_all)&&this.betAll.push(i)},t.prototype.onCheckBoxClick=function(e){this.checkBoxByTarget(e.target)},t.prototype.checkBoxByTarget=function(e){if(e==this.coin_check1||e==this.coin_check2){switch(this.coin_check1.selected=!1,this.coin_check2.selected=!1,e.selected=!0,e){case this.coin_check1:this.setCoinMarkTexture("yinbi_png"),this.moneyType="silver",this.updateScore(this.baseInfo.silver);break;case this.coin_check2:this.setCoinMarkTexture("jinbi_png"),this.moneyType="coin",this.updateScore(this.baseInfo.coin)}this.setBetValue(0),(4==this._state||5==this._state)&&this.showCard(null),5==this._state&&this.showWin()}if(e==this.choice1||e==this.choice2||e==this.choice3||e==this.choice4){for(var t=0;t<this.choiceArray.length;t++)this.choiceArray[t].selected=!1,this.choiceArray[t]==e&&(this.checkBet=100*Math.pow(10,t),console.log(t+"=押注索引 "+this.checkBet));e.selected=!0}},t.prototype.setCoinMarkTexture=function(e){this.coin_mark.texture=RES.getRes(e),this.choice_coin1.texture=RES.getRes(e),this.choice_coin2.texture=RES.getRes(e),this.choice_coin3.texture=RES.getRes(e),this.choice_coin4.texture=RES.getRes(e),this.wei_coin1.texture=RES.getRes(e),this.wei_coin2.texture=RES.getRes(e),this.shu_coin1.texture=RES.getRes(e),this.shu_coin2.texture=RES.getRes(e),this.wu_coin1.texture=RES.getRes(e),this.wu_coin2.texture=RES.getRes(e)},t.prototype.setGameState=function(e,t){switch(this.zhunbei.visible=!1,this.jieguo.visible=!1,this.timeout.visible=!1,this.timeoutBg.visible=!1,this.mingpai.visible=!1,this.touzhu.visible=!1,e){case 1:this.showNotice("即将开始，请稍后"),this.zhunbei.visible=!0,this._state!=e&&this.replay();break;case 2:this.showNotice("开始选择"),this.touzhu.visible=!0,this.timeout.visible=!0,this.timeoutBg.visible=!0,this.timeout.text=(43-t).toString(),this.timeout.anchorOffsetX=this.timeout.width/2,this._state!=e&&this.replay();break;case 3:this.showNotice("即将揭晓结果"),this.touzhu.visible=!0;break;case 4:this.mingpai.visible=!0,this.touzhu.visible=!0,this._state!=e&&this.sendHttpServer("/q102/sgdisplay",function(e){var t=e.currentTarget;console.log("get data : ",t.response);var i=JSON.parse(t.response);200==i.code&&(this.showCard(i.data.cards),this.winData=i.data.win)});break;case 5:this.jieguo.visible=!0,this.mingpai.visible=!0,this.touzhu.visible=!0,this._state!=e&&this.showWin(),this._state!=e&&this.isSendResultCommond(this.winData.coin,this.winData.silver)&&this.sendHttpServer("/q102/sgshowgain?uid="+this.baseInfo.uid,function(e){var t=e.currentTarget;console.log("get data : ",t.response);var i=JSON.parse(t.response);200==i.code&&this.showResult(i.data)})}this._state=e},t.prototype.sendHttpServer=function(e,t){var i=this.baseInfo.apiDomain+e,s=new egret.HttpRequest;s.responseType=egret.HttpResponseType.TEXT,s.open(i,egret.HttpMethod.POST),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(),s.addEventListener(egret.Event.COMPLETE,t,this)},t.prototype.showNotice=function(e){if(this.noticeStr!=e){this.notice.visible=!0,this.noticeLabel.text=e,this.noticeLabel.anchorOffsetX=this.noticeLabel.width/2;var t=this;egret.Tween.get(this.notice,{loop:!1}).wait(2e3).call(function(){t.notice.visible=!1}),this.noticeStr=e}},t.prototype.onButtonClick=function(e){var t=e.target;switch(t){case this.lishi:this.sendHttpServer("/q102/sglog",function(e){var t=e.currentTarget;console.log("get data : ",t.response);var i=JSON.parse(t.response);200==i.code&&(this.history=new Lishi(i.data[this.moneyType]),this.addChild(this.history))});break;case this.guanbi:Data.close();break;case this.bangzhu:this.desc=new Desc,this.addChild(this.desc);break;case this.chongzhi:Data.pay(this.moneyType)}if(t==this.weiScoreBg||t==this.shuScoreBg||t==this.wuScoreBg){var i=0;switch(e.target){case this.weiScoreBg:i=1;break;case this.shuScoreBg:i=2;break;case this.wuScoreBg:i=3}2==this._state&&0!=i&&(this.baseInfo[this.moneyType]>=this.checkBet?this.sendHttpServer("/q102/sgchipin?uid="+this.baseInfo.uid+"&occasion="+this.moneyType+"&camp="+i+"&amount="+this.checkBet,function(e){var t=e.currentTarget;console.log("get data : ",t.response);var s=JSON.parse(t.response);200==s.code?(this.updateScore(s.data.remain),this.setBetValue(i)):500==s.code&&this.showNotice(decodeURIComponent(s.message))}):Data.noMoney(this.moneyType))}},t.prototype.showResult=function(e){var t=e.gain[this.moneyType];t>0&&egret.Tween.get(this,{loop:!1}).wait(3e3).call(function(){this.result=new Result(t,this.moneyType),this.addChild(this.result),Data.winOrLose()}).wait(2e3).call(function(){null!=this.result&&(this.removeChild(this.result),this.result=null)});var i=e.remain[this.moneyType];this.updateScore(i),this.baseInfo.coin=e.remain.coin,this.baseInfo.silver=e.remain.silver},t.prototype.setBetValue=function(e){0!=e&&(this.chip[this.moneyType][e-1].user+=this.checkBet);for(var t=0;t<this.betUser.length;t++)this.betUser[t].text=this.chip[this.moneyType][t].user},t.prototype.updateScore=function(e){this.qianshu.text=Utils.numToW(e),this.baseInfo[this.moneyType]=e},t.prototype.updateMaxBet=function(e,t,i){if(this.moneyType==i)for(var s=0;s<this.betAll.length;s++)if(t==s+1)return void(this.betAll[s].text=e.toString())},t.prototype.updatePayBack=function(e,t){var i=0;"coin"==e?(this.baseInfo.coin=t,i=this.baseInfo.coin):"silver"==e&&(this.baseInfo.silver=t,i=this.baseInfo.silver),this.updateScore(i)},t.prototype.replay=function(){for(var e=0;e<this.results.length;e++)this.results[e].visible=!1;for(var e=0;e<this.betUser.length;e++)this.chip.coin[e].user=0,this.chip.silver[e].user=0,this.betUser[e].text=this.chip[this.moneyType][e].user;this.winData=null,null!=this.result&&(this.removeChild(this.result),this.result=null)},t.prototype.isSendResultCommond=function(e,t){for(var i=!1,s=0;s<this.betUser.length;s++)e-1==s&&this.chip.coin[s].user>0&&(i=!0);for(var s=0;s<this.betUser.length;s++)t-1==s&&this.chip.silver[s].user>0&&(i=!0);return i},t.prototype.showWin=function(){for(var e=0;e<this.results.length;e++)this.results[e].visible=!0;switch(this.winData[this.moneyType]){case 1:this.wei_mask.visible=!1,egret.Tween.get(this.wei_win,{loop:!1}).to({scaleX:2,scaleY:2},0).to({scaleX:1,scaleY:1},200),this.shu_win.visible=!1,this.wu_win.visible=!1,this.shu_bg.visible=!1,this.wu_bg.visible=!1;break;case 2:this.shu_mask.visible=!1,egret.Tween.get(this.shu_win,{loop:!1}).to({scaleX:2,scaleY:2},0).to({scaleX:1,scaleY:1},200),this.wei_win.visible=!1,this.wu_win.visible=!1,this.wei_bg.visible=!1,this.wu_bg.visible=!1;break;case 3:this.wu_mask.visible=!1,egret.Tween.get(this.wu_win,{loop:!1}).to({scaleX:2,scaleY:2},0).to({scaleX:1,scaleY:1},200),this.wei_win.visible=!1,this.shu_win.visible=!1,this.wei_bg.visible=!1,this.shu_bg.visible=!1}},t.prototype.showCard=function(e){if(null==e){if(e=this.showCardData,null==e)return}else this.showCardData=e;for(var t=e[this.moneyType][1],i=0;i<t.length;i++)i==t.length-1?this.wei_mark.texture=RES.getRes(Utils.mixType(t[i])):this.wei_cards[i].texture=RES.getRes(Utils.mixCard(t[i][0])+"_"+Utils.mixCard(t[i][1])+"_png");for(var s=e[this.moneyType][2],i=0;i<s.length;i++)i==s.length-1?this.shu_mark.texture=RES.getRes(Utils.mixType(s[i])):this.shu_cards[i].texture=RES.getRes(Utils.mixCard(s[i][0])+"_"+Utils.mixCard(s[i][1])+"_png");for(var n=e[this.moneyType][3],i=0;i<n.length;i++)i==n.length-1?this.wu_mark.texture=RES.getRes(Utils.mixType(n[i])):this.wu_cards[i].texture=RES.getRes(Utils.mixCard(n[i][0])+"_"+Utils.mixCard(n[i][1])+"_png")},t}(eui.Component);__reflect(Game.prototype,"Game",["eui.UIComponent","egret.DisplayObject"]);var Lishi=function(e){function t(t){var i=e.call(this)||this;return i.closeBtn=null,i.scrollG=null,i.scroll=null,i._data=null,i._data=t,i.addEventListener(eui.UIEvent.COMPLETE,i.uiCompHandler,i),i.skinName="resource/lishi.exml",i}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.closeBtn&&i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onButtonClick,this)},t.prototype.onButtonClick=function(e){var t=e.target;switch(t){case this.closeBtn:this.removeChildren()}},t.prototype.uiCompHandler=function(){for(var e=0;e<this._data.length;e++)for(var t=this._data[e]-1,i=0;3>i;i++){var s=null;s=t==i?new eui.Image(RES.getRes("sheng_png")):new eui.Image(RES.getRes("shu_png")),null!=s&&(s.x=60+150*i,s.y=5+75*e,this.scrollG.addChild(s))}},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(Lishi.prototype,"Lishi",["eui.UIComponent","egret.DisplayObject"]);var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=900,this.textField.width=640,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){var i=Math.floor(e*(100/t));this.textField.text="Loading..."+i+"%"},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},t.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},t.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.startCreateScene=function(){Data.apiDomain=decodeURIComponent(Utils.getArgsValue(Utils.getCurrHref(),"domain")),Data.uid=Utils.getArgsValue(Utils.getCurrHref(),"uid"),Data.token=decodeURIComponent(Utils.getArgsValue(Utils.getCurrHref(),"token")),Data.app=Utils.getArgsValue(Utils.getCurrHref(),"app"),Data.coin=Utils.getArgsValue(Utils.getCurrHref(),"coin"),Data.silver=Utils.getArgsValue(Utils.getCurrHref(),"silver"),Data.game=new Game,this.addChild(Data.game)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var Result=function(e){function t(t,i){var s=e.call(this)||this;return s.light=null,s.moneyLabel=null,s.coin=null,s._winScore=0,s._type="",s._winScore=t,s._type=i,console.log(s._type+" ========"),s.skinName="resource/result.exml",s}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.light&&egret.Tween.get(this.light,{loop:!0}).to({rotation:360},4e3),i==this.moneyLabel&&(this.moneyLabel.text=this._winScore.toString()),i==this.coin&&("coin"==this._type?this.coin.texture=RES.getRes("jinbi_png"):"silver"==this._type&&(this.coin.texture=RES.getRes("yinbi_png")))},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(Result.prototype,"Result",["eui.UIComponent","egret.DisplayObject"]);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,s){function n(e){t.call(s,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(s))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Utils=function(){function e(){}return e.getStageWidth=function(){return egret.Stage.prototype.stageWidth},e.getStageHeight=function(){return egret.Stage.prototype.stageHeight},e.setResult=function(e){this._result=e},e.getResult=function(){return this._result},e.createBitmapByImageName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},e.createBitmapBySheetName=function(e,t){var i=new egret.Bitmap,s=t.getTexture(e);return i.texture=s,i},e.isWeiXin=function(){var e=navigator.userAgent.toString(),t=e.match(/MicroMessenger/i);return"MicroMessenger"==t?!0:!1},e.isMobile=function(){return egret.Capabilities.isMobile},e.deviceOS=function(){return egret.Capabilities.os},e.getTimeMark=function(){return Date.parse((new Date).toString())/1e3},e.getRandomStr=function(){return Math.random().toString(36).substr(2,15)},e.isCheckCollide=function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height?!0:!1},e.getArgsValue=function(e,t){e=e.replace("/","");var i=function(e,t){var i=e.split("?"),s="";if(i[0]==e)return s;var n=i[1];i=n.split("&");for(var o=0;o<i.length;o++){n=i[o];var r=n.split("=");r.length<=1||r[0]==t&&(s=r[1])}return s};return i(e,t)},e.getCurrHref=function(){return window.location.search},e.getPlatform=function(){var e={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),iOS:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weChat:-1!==e.search(/MicroMessenger/i)}}()};return e},e.getRandNum=function(e){for(var t=Math.floor(Math.random()*e),i=Math.floor(Math.random()*e);t==i;)i=Math.floor(Math.random()*e);return console.log(t,i),[t,i]},e.numToW=function(e){return e>9999?Math.floor(e/1e4)+"万":e.toString()},e.mixCard=function(e){switch(e){case"A":return"1";case"J":return"11";case"Q":return"12";case"K":return"13";case"Z":return"h";case"Y":return"r";case"X":return"m";case"W":return"f"}return e},e.mixType=function(e){switch(e){case 1:return"baozi_mark_png";case 2:return"tonghuashun_mark_png";case 3:return"tonghua_mark_png";case 4:return"shunzi_mark_png";case 5:return"duizi_mark_png";case 6:return"danpai_mark_png"}},e}();__reflect(Utils.prototype,"Utils");